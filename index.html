<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cognitive Impasse</title>
    <!-- Google Fonts: Roboto -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Reset and Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Roboto', Georgia, 'Times New Roman', Times, serif;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Changed from center to flex-start */
            min-height: 100vh;
        }
        
        /* Container */
        #quiz-container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            max-width: 900px;
            width: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
            /* Removed height and overflow properties */
        }
        
        /* Main Header */
        #main-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        #main-header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        /* Progress Indicator */
        #progress-indicator {
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .progress-step {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin: 3px;
            background-color: #ccc;
            border-radius: 50%;
        }
        
        .progress-step.active {
            background-color: #333;
        }
        
        /* Introduction Slides */
        .intro-slide {
            display: none;
            text-align: left;
            overflow-y: auto; /* Allows internal scrolling if content is too long */
            flex: 1;
            max-height: 60vh; /* Optional: Limit max height to allow internal scroll */
            padding-right: 10px; /* To prevent content from being hidden behind scrollbar */
        }
        
        .intro-slide.active {
            display: block;
        }
        
        .intro-slide p {
            margin-bottom: 15px;
            white-space: pre-wrap;
        }
        
        .intro-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .intro-navigation button {
            padding: 10px 20px;
            border: none;
            background-color: #333;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 14px;
        }
        
        .intro-navigation button:disabled {
            background-color: #777;
            cursor: not-allowed;
        }
        
        .intro-navigation button:hover:not(:disabled) {
            background-color: #555;
        }
        
        /* Quiz Section */
        #question-container {
            display: none;
            flex: 1;
            flex-direction: column;
            position: relative;
        }
        
        #current-question {
            font-size: 18px;
            margin-bottom: 20px;
            flex: 1;
            overflow-y: auto;
            padding-right: 10px; /* To prevent content from being hidden behind scrollbar */
        }
        
        #buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .answer-button {
            background-color: #fff;
            border: 2px solid #333;
            padding: 15px 25px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            flex: 1;
            margin: 0 5px;
        }
        
        .answer-button:hover {
            background-color: #333;
            color: #fff;
        }
        
        /* Flash Animation */
        .flash {
            animation-duration: 0.3s;
            animation-fill-mode: forwards;
        }
        
        @keyframes flash-red {
            from { background-color: #f4f4f4; }
            to { background-color: #ff0000; }
        }
        
        @keyframes flash-green {
            from { background-color: #f4f4f4; }
            to { background-color: #ddffdd; }
        }
        
        /* Previous Answers */
        #previous-questions {
            margin-top: 20px;
            border-top: 1px solid #ccc;
            padding-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            position: relative;
            padding-right: 10px; /* To prevent content from being hidden behind scrollbar */
        }
        
        /* Hide scrollbar for WebKit browsers */
        #previous-questions::-webkit-scrollbar,
        .intro-slide::-webkit-scrollbar,
        #question-container::-webkit-scrollbar {
            width: 6px;
        }
        
        #previous-questions::-webkit-scrollbar-thumb,
        .intro-slide::-webkit-scrollbar-thumb,
        #question-container::-webkit-scrollbar-thumb {
            background-color: rgba(0,0,0,0.2);
            border-radius: 3px;
        }
        
        /* Hide scrollbar for Firefox */
        #previous-questions,
        .intro-slide,
        #question-container {
            scrollbar-width: thin;
            scrollbar-color: rgba(0,0,0,0.2) transparent;
        }
        
        .previous-question {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
            word-wrap: break-word;
        }
        
        .incorrect {
            background-color: #ffdddd;
            color: #a94442;
        }
        
        .correct {
            background-color: #ddffdd;
            color: #3c763d;
        }
        
        /* End Quiz */
        #end-screen {
            text-align: center;
            display: none;
            flex: 1;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        #end-screen h2 {
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        #end-screen p {
            margin-bottom: 20px;
            font-size: 18px;
        }
        
        #end-screen button {
            padding: 10px 20px;
            border: none;
            background-color: #333;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 16px;
            margin-top: 10px;
        }
        
        #end-screen button:hover {
            background-color: #555;
        }
        
        /* Modal Styles */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 100; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.5); 
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            text-align: center;
        }
        
        .modal-content h3 {
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .modal-content input[type="text"],
        .modal-content input[type="email"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .modal-content button {
            padding: 10px 20px;
            border: none;
            background-color: #333;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 14px;
        }
        
        .modal-content button:hover {
            background-color: #555;
        }
        
        /* Responsive Design */
        @media (max-width: 800px) {
            #quiz-container {
                padding: 20px;
                /* Removed height to allow scrolling */
            }
            
            #main-header h1 {
                font-size: 24px;
            }
            
            #progress-indicator .progress-step {
                width: 10px;
                height: 10px;
                margin: 2px;
            }
            
            .intro-navigation button, .answer-button, #end-screen button {
                width: 48%;
                margin: 5px 1%;
                font-size: 14px;
            }
            
            #buttons {
                flex-direction: column;
            }
            
            .answer-button {
                margin: 5px 0;
            }
            
            #previous-questions {
                max-height: 350px;
            }
            
            #progress-indicator {
                flex-wrap: wrap;
            }
            
            /* Fixed Answer Buttons on Mobile */
            #mobile-buttons {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                background-color: #fff;
                border-top: 1px solid #ccc;
                display: flex;
                padding: 10px;
                box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
                z-index: 10;
            }
            
            #buttons {
                display: none;
            }
            
            #mobile-buttons .answer-button {
                flex: 1;
                margin: 0 5px;
            }
            
            /* Adjust question container to avoid being hidden behind fixed buttons */
            #question-container {
                margin-bottom: 60px; /* Height of the fixed button frame */
            }
        }
    </style>
</head>
<body>

    <div id="quiz-container">
        <!-- Main Header -->
        <div id="main-header">
            <h1>Cognitive Impasse</h1>
        </div>

        <!-- Progress Indicator -->
        <div id="progress-indicator">
            <!-- Total Slides: 13 (6 for Stage 1 + 7 for Sections 2-8) -->
            <span class="progress-step active"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
            <span class="progress-step"></span>
        </div>
        
        <!-- Introduction Slides -->
        <div id="intro-slides">
            <!-- Stage 1: Manifested Responses -->
            <div class="intro-slide active">
                <h2>Stage 1: Manifested Responses</h2>
                <h3>1 of 6: Physical Response</h3>
                <p>
<strong>Immediate Reactions</strong>: Physical responses to discomfort—such as laughing, smirking, or eye-rolls—often serve as defenses to ease the pain and avoid directly engaging with challenging information. This is similar to how inappropriate laughter can alleviate tension momentarily by creating a barrier to cognitive dissonance. Comedy, for instance, thrives on the unexpected. People laugh because they were not anticipating it, triggering a cognitive impasse to alleviate dissonance. Without belief interference, laughter can be freely enjoyed, pumping the brain with chemicals that foster personal change. This response explains why some people laugh at funerals, unprepared to reconcile the deeply held belief that someone who was alive is now dead.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Stage 1: Manifested Responses</h2>
                <h3>2 of 6: Cognitive Response</h3>
                <p>
<strong>Anger, Mockery</strong>: Initial cognitive reactions to challenging ideas may manifest as anger or mockery, often due to discomfort with unfamiliar perspectives. This response aims to make people aware of these automatic reactions, reducing defensiveness and fostering deeper reflection. Anger can arise quickly from initial laughter, with sounds reminiscent of someone mentally on edge as frustration builds and the fight-or-flight system activates.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Stage 1: Manifested Responses</h2>
                <h3>3 of 6: Verbal and Non-Verbal Responses Signaling the Beginning of a Cognitive Impasse</h3>
                <p>
These factors below, especially in combination, signal the onset of a cognitive impasse, a point at which self-awareness becomes absolutely essential in order to become aware.
                </p>
                <p>
<strong>Verbal Noises</strong>: Sounds like "scoff," "psh," "pfft," "hmph," "tsk-tsk," "dismissive chuckles," and sarcastic “ha!” reflect defensive resistance. These noises signify disbelief, cynicism, and outright dismissal, indicating a reluctance to engage meaningfully with challenging content.
                </p>
                <p>
<strong>Non-Verbal Gestures</strong>: Physical gestures—including eye-rolls, raised eyebrows, smirks, head shakes, dismissive hand waves, and crossed arms—often reinforce verbal dismissals. These gestures further distance individuals from uncomfortable information, reinforcing a psychological barrier.
                </p>
                <p>
<strong>Internal Thoughts</strong>: Thoughts such as "Okay, Flat Earther," "Lose the tin foil hat," "Conspiracy theorist," "What a joke," "Nope, wrong," or "Complete nonsense" reflect the mind's efforts to negate challenging ideas swiftly. This reflex helps maintain cognitive security by categorizing new information as absurd or unworthy of consideration.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Stage 1: Manifested Responses</h2>
                <h3>4 of 6: Familiarize Yourself</h3>
                <p>
During this test, pay attention to everything happening within your body—the ticks, discomfort, and all that you feel and do, not limited to:
                </p>
                <p>
<strong>Verbal Noises</strong><br>
Do not resist the urge to do any of the following, as they are important indicators to yourself for self-awareness.
                </p>
                <p>
Scoff, psh, pfft, hmph, snort, heavy sigh, tsk or tsk-tsk, muttering under breath, dismissive chuckle, derisive laugh, sarcastic “ha!”, grunt, exasperated groan, dismissive “yeah right,” sarcastic “sure,” incredulous “really?”, mocking “oh, please,” dismissive “whatever,” sarcastic “wow,” curt “mm-hmm,” sarcastic “uh-huh,” short “ugh,” incredulous “no way,” prolonged “riiiight,” muttered “come on,” frustrated “oh great,” sneering “good luck with that,” cynical “uh, okay,” biting “seriously?”, contemptuous “genius move there,” under-the-breath “good grief,” sarcastic “well done,” dismissive “right, because that’ll work,” muttered “here we go again.”
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Stage 1: Manifested Responses</h2>
                <h3>5 of 6: Non-Verbal Accompanying Gestures</h3>
                <p>
Ensure to keep well aware of your physical non-verbal responses during this test.
                </p>
                <p>
Eye roll, raised eyebrows, widened eyes with a sarcastic smile, smirk, head shake, dismissive wave of hand, facepalm, crossed arms with sigh, side-eye glance, looking away with a smirk, exaggerated nod with mocking expression, leaning back and folding arms, clicking tongue, pursed lips, jaw drop with narrowed eyes, scrunched nose with sigh, head tilt with a patronizing smile, slow clap, forced smile with narrowed eyes, turning slightly away, mock yawning, exasperated rub of the forehead, closing eyes with a slow exhale, tapping fingers impatiently, hands on hips with a frown, rubbing temples, clenched jaw with head shake, rolling head in mock frustration, scratching head with a smirk, covering mouth to hide a grin, exaggerated shrug, playful nudge or poke paired with sarcasm, pulling lips into a tight line, looking at the ground in disbelief, quick dismissive glance to a friend, wide-eyed stare with mouth ajar, looking up and mouthing “wow,” slight roll of shoulders.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Stage 1: Manifested Responses</h2>
                <h3>6 of 6: Internal Thoughts</h3>
                <p>
Your internal dialogue likely will have intrusive thoughts as they begin to hurt you.
                </p>
                <p>
"Okay, Flat Earther," "Lose your tin foil hat?" "Conspiracy theorist," "And no one else thought of that?" "That's not true," "No," "False," "WRONG," "Jesus Christ," "Seriously?" "God. Fucking ridiculous," "What a joke," "Nope, wrong," "Complete nonsense," "Get real," "Absolutely not," "Yeah, okay…" "Please, not again," "What a reach," "Total BS," "Unbelievable," "Where did they get this?" "They can't be serious," "Misguided much?" "Zero clue," "Oh, that’s smart… not," "Laughable," "How is this even a thought?" "So wrong," "ugh, another troll," "Truly regarded," "What reality is this?" "Doubt it," "Completely false," "Try again," "I can’t," "Wow, just wow," "Nice try, but no," "Give me a break," "This is absurd," "Why do they even bother?" "Okay… now back to reality," "Yikes."
                </p>
            </div>
            
            <!-- Stage 2 to Stage 8 -->
            <div class="intro-slide">
                <h2>Stage 2: Cognitive Inertia</h2>
                <p>
The onset of cognitive inertia reflects the mind’s tendency to stagnate in response to increasingly challenging ideas. As biases accumulate, progression becomes more difficult, aptly embodying the concept of "cognitive inertia." This point illustrates the progressive mental block.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Stage 3: Semmelweis Reflex</h2>
                <p>
The Semmelweis Reflex captures the instinctive rejection of ideas that challenge established beliefs. The term originates from Ignaz Semmelweis, a physician who introduced handwashing to reduce infections in medical practices, only to have his findings dismissed as they conflicted with accepted medical practices, and his idea of hand washing was mocked by physicians. He was ultimately driven out of the country. This reflex continues today, with valuable insights often disregarded due to the comfort of familiar, entrenched beliefs.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Stage 4: Cognitive Dissonance Avoidance</h2>
                <p>
<strong>Cognitive Dissonance Avoidance</strong> is the inability to fully engage with challenging information, often manifesting in behaviors like suddenly forgetting, panicking about forgotten tasks needing immediate attention, experiencing headaches, being unable to read, blurry vision, inability to hear, excessive daydreaming, or feeling extremely tired, sometimes even falling asleep, any sudden urge to do something is the onset of avoidance. When this occurs, it can help to relax by lying back, closing your eyes, and listening to non-vocal intense classical music to ease the resistance.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Stage 5: Projecting Biases to Protect the Status Quo</h2>
                <p>
<strong>Projection Biases</strong> involve redirecting internal conflicts or discomfort onto others, shaping how individuals interpret others' motivations and actions.
                </p>
                <p>
<strong>Imposed Inferiority</strong>: This bias fosters the belief that meaningful change is futile because everyone is equally powerless, reinforcing collective resignation. It creates a cycle of inaction that is imposed onto those attempting change, causing them to perpetuate the cycle.
                </p>
                <p>
<strong>Projected Conformity</strong>: Assuming that others will conform to social norms convinces individuals to remain inactive, as they perceive their peers as equally conforming, leading them to conform themselves.
                </p>
                <p>
<strong>Projecting Inferiority</strong>: Arising from personal inadequacy, this bias leads individuals to reject others' contributions as inferior, believing they themselves couldn’t contribute similarly. This undermines collaborative potential and damages group dynamics by eroding collective confidence.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Section 6: Cognitive Dissonance (Updated Definition)</h2>
                <p>
Cognitive dissonance can range from mild discomfort to an intense sense of impending doom that gradually intensifies, often accompanied by headaches and visceral discomfort extending into the gut and connecting the feeling of massive guilt, anguish, and mental turmoil. As belief interference increases, the discomfort intensifies, especially with <strong>active resistance</strong>. In severe cases, the resistance to change deeply held beliefs while receiving contradictory information can provoke nausea or even vomiting, with the discomfort increasing the more the new information is resisted. If unresolved, <strong>Belief Perseverance</strong> may solidify the original belief, making future change increasingly challenging.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Section 7: Cognitive Biases</h2>
                <p>
Cognitive biases represent a final defense for preserving familiar beliefs, functioning as mental shortcuts that provide comfort through familiar perspectives. With over 200 recognized types, such as confirmation bias and selective recall, these biases create a comforting sense of certainty, emphasizing existing perspectives and downplaying new information. Overcoming these biases strengthens resilience, though it requires conscious effort and self-awareness.
                </p>
                <p>
Being self-aware of the triggers and being honest with yourself is the only way to overcome this.
                </p>
            </div>
            
            <div class="intro-slide">
                <h2>Section 8: Belief Perseverance</h2>
                <p>
Belief perseverance emerges when individuals cling to initial beliefs despite contrary evidence, maintaining a fixed worldview and fostering a sense of closure. However, openness to reevaluating beliefs can promote adaptability and growth. To overcome biases, active self-awareness is essential, keeping this intention in mind continuously. In extreme cases, cognitive resistance may lead to motivated forgetting, resulting in blackouts that suppress the entire interaction to avoid processing conflicting ideas.
                </p>
            </div>
        </div>
        
        <!-- Navigation for Intro Slides -->
        <div class="intro-navigation">
            <button id="prev-button" disabled>Previous</button>
            <button id="next-button">Next</button>
        </div>
        
        <!-- Quiz Section -->
        <div id="question-container">
            <p id="current-question"></p>
            <div id="buttons">
                <button class="answer-button" id="true-button">True</button>
                <button class="answer-button" id="false-button">False</button>
            </div>
            <div id="previous-questions">
                <!-- Previous questions will appear here -->
            </div>
        </div>
        
        <!-- Mobile Buttons -->
        <div id="mobile-buttons" style="display: none;">
            <button class="answer-button" id="mobile-true-button">True</button>
            <button class="answer-button" id="mobile-false-button">False</button>
        </div>
        
        <!-- End Screen -->
        <div id="end-screen">
            <h2>Quiz Completed!</h2>
            <p id="score"></p>
            <button id="restart-button">Restart Quiz</button>
            <button id="read-paper-button">Read Full Paper</button>
        </div>
        
        <!-- Modal for Email Request -->
        <div id="email-modal" class="modal">
            <div class="modal-content">
                <h3>Read Full Paper</h3>
                <p>Please enter your name and email to receive the full paper:</p>
                <form id="data-form" action="https://eo3cv4df6ukuz68.m.pipedream.net" method="POST">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required><br><br>
        
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required><br><br>
        
                    <!-- Hidden input to store quiz results -->
                    <input type="hidden" id="quiz-results" name="quizResults">
        
                    <input type="submit" value="Send Data">
                </form>
            </div>
        </div>
        
        <script>
            const quizData = [
                { statement: "The U.S. government exaggerated or fabricated attacks on U.S. ships in 1964 to justify escalation in Vietnam, as later declassified documents revealed.", answer: true },
                { statement: "From 1932-1972, the U.S. Public Health Service withheld treatment from Black men with syphilis, studying the effects of untreated disease without informed consent.", answer: true },
                { statement: "Tobacco companies knew about the health risks of smoking for decades but hid this information and aggressively marketed cigarettes, downplaying links to cancer and addiction.", answer: true },
                { statement: "The U.S. imported over 1,600 Nazi S.S. agents to work for the U.S.", answer: true },
                { statement: "Pluto is the largest planet in the solar system.", answer: false },
                { statement: "The Earth is spherical.", answer: true },
                { statement: "The government is actually quite competent.", answer: false },
                { statement: "Time itself is not linear; it moves in a constant loop, and we are simply experiencing iterations of the same events.", answer: false },
                { statement: "Imaginary numbers do not exist; humans incorrectly applied the index laws.", answer: false },
                { statement: "Mass has very little to do with gravity; rather, gravity is inertia interacting with electromagnetic tethers keeping planets and galaxies in line.", answer: false },
                { statement: "The magnetosphere is not bipolar but actually a monopole electromagnetosphere.", answer: false },
                { statement: "The Christian God, Hindu Gods, Buddhist Divines, Jewish Gods, Roman Gods, Greek Gods, Islamic God, Norse Gods, and most other gods came from a primary god called Dyeus Pater, which was the sun.", answer: true },
                { statement: "The black-and-white photos of the moon landing are of humans on a flat soundstage.", answer: true },
                { statement: "The color photos of the moon landing are of a miniature set, with each astronaut shown as a figurine, firmly held to the set. The flag waved in the video but never moved in the photos, which used a Claymation-like technique to keep the flag up.", answer: true },
                { statement: "The Moon Landing was actually a hoax, carefully staged by the U.S. government to win the space race.", answer: true },
                { statement: "Julius Caesar was the inspiration for Jesus Christ.", answer: false },
                { statement: "While many consider the Holy Roman Empire the First Reich, the true First Reich was the Roman Empire.", answer: false },
                { statement: "NASA, along with many others, kept the secret of Operation Paperclip.", answer: true },
                { statement: "Academics experience cognitive biases at equal levels.", answer: true },
                { statement: "Atheists display as much ignorance as theists.", answer: true },
                { statement: "The name \"Jove\" is pronounced similarly to \"Yahweh.\"", answer: false },
                { statement: "Christians are solely blamed for the downfall of the Roman Empire.", answer: false },
                { statement: "Biden won the election without cheating, securing a fair victory.", answer: true },
                { statement: "Donald Trump reveals he is attracted to both men and women.", answer: false },
                { statement: "The Democrats are predicted to lose the upcoming presidential election.", answer: false },
                { statement: "The Republicans are predicted to lose the upcoming presidential election.", answer: false },
                { statement: "A day on Venus is longer than its year, as it takes 243 Earth days to rotate and only 225 to orbit the Sun.", answer: true },
                { statement: "Octopuses have three hearts: two pump blood to the gills, while one circulates blood to the body and stops when they swim.", answer: true },
                { statement: "Bananas are classified as berries due to internal seeds; strawberries are not because their seeds are external.", answer: true },
                { statement: "Apple plans to discontinue the iPhone and instead focus on developing Android devices.", answer: false },
                { statement: "Leading nutritionists assert that excessive sugar intake may benefit long-term health.", answer: true },
                { statement: "Director James Cameron retires from filmmaking to pursue a career in ballet.", answer: false },
                { statement: "Climate scientists report that global warming has plateaued and is now less urgent.", answer: false },
                { statement: "Historians uncover evidence suggesting the Renaissance was politically fabricated.", answer: false },
                { statement: "A physicist claims to have successfully developed a method for time travel.", answer: false }
            ];

            let currentQuestionIndex = 0;
            let score = 0;
            const userAnswers = []; // To store user's answers

            const restartButton = document.getElementById('restart-button');
            const readPaperButton = document.getElementById('read-paper-button');
            const questionContainer = document.getElementById('question-container');
            const introSlides = document.querySelectorAll('.intro-slide');
            const prevButton = document.getElementById('prev-button');
            const nextButton = document.getElementById('next-button');
            const progressSteps = document.querySelectorAll('.progress-step');
            const questionElement = document.getElementById('current-question');
            const trueButton = document.getElementById('true-button');
            const falseButton = document.getElementById('false-button');
            const mobileTrueButton = document.getElementById('mobile-true-button');
            const mobileFalseButton = document.getElementById('mobile-false-button');
            const previousQuestionsContainer = document.getElementById('previous-questions');
            const endScreen = document.getElementById('end-screen');
            const scoreElement = document.getElementById('score');
            const readPaperModal = document.getElementById('email-modal');
            const dataForm = document.getElementById('data-form');
            const quizResultsInput = document.getElementById('quiz-results');

            let currentIntroSlide = 0;

            // Intro Slide Navigation
            prevButton.addEventListener('click', () => {
                if (currentIntroSlide > 0) {
                    introSlides[currentIntroSlide].classList.remove('active');
                    currentIntroSlide--;
                    introSlides[currentIntroSlide].classList.add('active');
                    updateProgress();
                    updateNavButtons();
                }
            });

            nextButton.addEventListener('click', () => {
                if (currentIntroSlide < introSlides.length - 1) {
                    introSlides[currentIntroSlide].classList.remove('active');
                    currentIntroSlide++;
                    introSlides[currentIntroSlide].classList.add('active');
                    updateProgress();
                    updateNavButtons();
                } else {
                    // Start Quiz after last intro slide
                    document.getElementById('intro-slides').style.display = 'none';
                    document.querySelector('.intro-navigation').style.display = 'none';
                    questionContainer.style.display = 'flex';
                    showQuestion();
                    checkScreenWidth(); // Move this here to ensure mobile buttons are only shown during the quiz
                }
            });

            function updateProgress() {
                progressSteps.forEach((step, index) => {
                    if (index <= currentIntroSlide) {
                        step.classList.add('active');
                    } else {
                        step.classList.remove('active');
                    }
                });
            }

            function updateNavButtons() {
                prevButton.disabled = currentIntroSlide === 0;
                nextButton.textContent = currentIntroSlide === introSlides.length - 1 ? 'Start Quiz' : 'Next';
            }

            // Show Current Question
            function showQuestion() {
                if (currentQuestionIndex < quizData.length) {
                    questionElement.textContent = `${currentQuestionIndex + 1}. ${quizData[currentQuestionIndex].statement}`;
                } else {
                    endQuiz();
                }
            }

            // Check Answer
            function checkAnswer(answer) {
                const currentQuestion = quizData[currentQuestionIndex];
                const correctAnswer = currentQuestion.answer;
                const isCorrect = answer === correctAnswer;
                userAnswers.push({
                    question: currentQuestion.statement,
                    yourAnswer: answer ? 'TRUE' : 'FALSE',
                    correctAnswer: correctAnswer ? 'TRUE' : 'FALSE',
                    isCorrect: isCorrect
                });

                if (isCorrect) {
                    score++;
                    flashScreen('green');
                } else {
                    flashScreen('red');
                }

                showPreviousQuestion(currentQuestion.statement, isCorrect, answer);
                currentQuestionIndex++;
                setTimeout(showQuestion, 300);
            }

            // Flash Screen
            function flashScreen(color) {
                const container = document.getElementById('quiz-container');
                container.classList.add('flash');
                container.style.animationName = color === 'red' ? 'flash-red' : 'flash-green';
                setTimeout(() => {
                    container.classList.remove('flash');
                    container.style.animationName = '';
                }, 300);
            }

            // Show Previous Question
            function showPreviousQuestion(statement, isCorrect, userAnswer) {
                const prevQuestion = document.createElement('div');
                prevQuestion.classList.add('previous-question', isCorrect ? 'correct' : 'incorrect');
                const questionNumber = currentQuestionIndex + 1;
                const answerLabel = userAnswer ? 'TRUE' : 'FALSE';
                const correctLabel = quizData[currentQuestionIndex].answer ? 'TRUE' : 'FALSE';
                prevQuestion.textContent = `${questionNumber}. ${statement} [Your answer: ${answerLabel} is ${correctLabel}]`;
                previousQuestionsContainer.prepend(prevQuestion);
            }

            // End Quiz
            function endQuiz() {
                questionContainer.style.display = 'none';
                endScreen.style.display = 'flex';
                scoreElement.textContent = `You scored ${score} out of ${quizData.length}!`;

                // Prepare quiz results as JSON string
                const quizResults = JSON.stringify(userAnswers);
                quizResultsInput.value = quizResults;
            }

            // Restart Quiz
            function restartQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                userAnswers.length = 0; // Clear the array
                previousQuestionsContainer.innerHTML = '';
                endScreen.style.display = 'none';
                questionContainer.style.display = 'flex';
                showQuestion();
                checkScreenWidth();
            }

            // Handle "Read Full Paper" Button
            readPaperButton.addEventListener('click', () => {
                readPaperModal.style.display = 'flex';
            });

            // Handle Modal Submission
            dataForm.addEventListener('submit', (event) => {
                // Basic email validation
                const emailInput = document.getElementById('email');
                const email = emailInput.value.trim();
                const nameInput = document.getElementById('name');
                const name = nameInput.value.trim();

                if (!validateEmail(email)) {
                    alert('Please enter a valid email address.');
                    event.preventDefault(); // Prevent form submission
                    return;
                }

                if (name === '') {
                    alert('Please enter your name.');
                    event.preventDefault(); // Prevent form submission
                    return;
                }

                // Optionally, you can add more validations here

                // The quiz results are already set in the hidden input
                // They will be sent along with the form data
            });

            // Validate Email Function
            function validateEmail(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(String(email).toLowerCase());
            }

            // Close Modal when clicking outside the content
            window.addEventListener('click', (event) => {
                if (event.target == readPaperModal) {
                    readPaperModal.style.display = 'none';
                }
            });

            // Handle Screen Width for Responsive Design
            function checkScreenWidth() {
                if (window.innerWidth < 600) {
                    document.getElementById('mobile-buttons').style.display = 'flex';
                    document.getElementById('buttons').style.display = 'none';
                } else {
                    document.getElementById('mobile-buttons').style.display = 'none';
                    document.getElementById('buttons').style.display = 'flex';
                }
            }

            // Remove the initial check to prevent mobile buttons from showing during intro slides
            // checkScreenWidth(); // Removed

            // Add Event Listener for Window Resize
            window.addEventListener('resize', () => {
                // Only adjust buttons if quiz is active
                if (questionContainer.style.display === 'flex') {
                    checkScreenWidth();
                }
            });

            // Mobile Answer Buttons
            mobileTrueButton.addEventListener('click', () => checkAnswer(true));
            mobileFalseButton.addEventListener('click', () => checkAnswer(false));

            // Event Listeners for Quiz Buttons
            trueButton.addEventListener('click', () => checkAnswer(true));
            falseButton.addEventListener('click', () => checkAnswer(false));
            restartButton.addEventListener('click', restartQuiz);

            // Initialize Navigation Buttons
            updateNavButtons();
        </script>
        
    </div>

</body>
</html>
